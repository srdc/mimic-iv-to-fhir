{
  "id": "mimic-csv-to-fhir-server",
  "sourceSettings": {
    "source": {
      "jsonClass": "FileSystemSourceSettings",
      "name": "MIMIC-IV v2.0",
      "sourceUri": "https://physionet.org/content/mimiciv/2.0",
      "dataFolderPath": "./mimic-iv-data"
    }
  },
  "sinkSettings": {
    "jsonClass": "FhirRepositorySinkSettings",
    "fhirRepoUrl": "${FHIR_REPO_URL}",
    "errorHandling": "continue"
  },
  "terminologyServiceSettings": {
    "jsonClass": "LocalFhirTerminologyServiceSettings",
    "folderPath": "./terminology",
    "conceptMapFiles": [
      {
        "fileName": "mimic_labitems_to_loinc.csv",
        "conceptMapUrl": "https://mimic.mit.edu/fhir/ConceptMap/mimic_labitems_to_loinc",
        "sourceValueSet": "https://mimic.mit.edu/fhir/ValueSet/labitems",
        "targetValueSet": "http://loinc.org/vs"
      },
      {
        "fileName": "labitem_coded_values_to_loinc.csv",
        "conceptMapUrl": "https://mimic.mit.edu/fhir/ConceptMap/labitem_coded_values_to_other",
        "sourceValueSet": "https://mimic.mit.edu/fhir/ValueSet/labitem_coded_values",
        "targetValueSet": "https://onfhir.io/tofhir/mimic_labitem_coded_correspondings"
      }
    ],
    "codeSystemFiles": [
      {
        "fileName": "labitems_code_system.csv",
        "codeSystem": "https://mimic.mit.edu/fhir/CodeSystem/labitems"
      }
    ]
  },
  "mappingErrorHandling": "continue",
  "mappings": [
    {
      "mappingRef": "https://mimic.mit.edu/fhir/mappings/patients",
      "sourceContext": {
        "source": {
          "jsonClass": "FileSystemSource",
          "path": "hosp/patients.csv",
          "fileFormat": "csv"
        }
      }
    },
    {
      "mappingRef": "https://mimic.mit.edu/fhir/mappings/labevents",
      "sourceContext": {
        "source": {
          "jsonClass": "FileSystemSource",
          "path": "hosp/labevents.csv",
          "fileFormat": "csv"
        }
      }
    }
  ]
}
